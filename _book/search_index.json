[["index.html", "简说基因 Chapter 1 关于", " 简说基因 Zo Zo 2022-03-19 Chapter 1 关于 三种收入 普通收入 投资收入 被动收入 富人致力于发展被动收入 知识工具 草稿：mynote 系统：myblog 宣传：简说基因，知乎：简佐义 知识结构 通识 心理学 管理学 南度北归 专业 生物信息学 财商 量化投资 "],["账号.html", "Chapter 2 账号 2.1 docker token (2022/1/14)", " Chapter 2 账号 2.1 docker token (2022/1/14) df3834e1-0c29-420e-b7db-61f8b1da075e knitr::opts_chunk$set(include = FALSE, echo = FALSE, eval=FALSE) "],["笔记.html", "Chapter 3 笔记 3.1 离线安装 GitHub 包 3.2 CNVkit使用 3.3 找TCGA 276个DDR基因 3.4 转录组流程 3.5 阿里云k8s系统使用自有镜像的问题 3.6 Docker使用 3.7 安装 vep 3.8 安装 cnvkit 3.9 数据备份专题", " Chapter 3 笔记 rstudio主题： https://cloud.tencent.com/developer/article/1655684 3.1 离线安装 GitHub 包 3.1.1 第一种方式 git clone git@github.com:PoisonAlien/TCGAmutations.git install.packages(/path/to/library/, repos = NULL, type = &quot;source&quot;) 3.1.2 第二种方式 下载 Zip 压缩包 devtools::install_local(/path/to/library.zip) 3.2 CNVkit使用 3.2.1 diagram 可以输入三种类型的文件 1、仅画探针，cnr 2、仅画Segment文件，cns 3、两都都画，cns在左边，cnr在右边 3.3 找TCGA 276个DDR基因 文章：Genomic and Molecular Landscape of DNA Damage Repair Deficiency across The Cancer Genome Atlas 链接：https://www.sciencedirect.com/science/article/pii/S2211124718304376#:~:text=The%20most%20frequently%20silenced%20DDR%20genes%20were%20core,FA%20pathways%2C%20e.g.%2C%20BRCA1%2C%20RAD51C%2C%20NSMCE3%2C%20and%20FANCF. 下载所有补充材料 https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5961503/ 学习cnvkit输出log的方式，有时间安排上 让彬彬调研一下常见的用于肿瘤分析的 R 包，当面跟领导和彬彬商量，主要是增加见识 任务目标： 1、R外名称，主要功能、能做的分析展示 2、所发表的文献 RTCGA包，TCGAbiolinks, TCGAmutations, KEGGREST CMplot，GenVisR ，ggsci，MutationalPatterns， ggDCA， magick 先会用工具，再去了解工具背后的原理，再想法改进之 应该先追求广度，了解有些什么工具，能做什么事，需要时知道用什么工具去解决。 R，应该是tidyverse R 画图，ggpubr，而不是ggplot2 2022/01/26 先业务，再投资，再博士 肿瘤临床科研业务做精，稳住工作 解决资金问题，房 投资系统，需要建立 管理入门，职场 写作：专业，读书 统计学，R 跟领导申请买几本书 假期，研究rmarkdow book 学习maftools源码 将SGE和SJM安装在docker中，应该也能完成任务投递，因为 或者自己写一个简单的调度器，应该也不难 制作一个cancerPipeline docker 流程调试，未来趋势是docker，因此直接写argo流程更好。至少要先尝试。 一要有财商，二要了解国家（20220313） 做不到的10件事 3.4 转录组流程 参考网站： https://zhuanlan.zhihu.com/p/107613358 下载参考基因组及其注释，网站：gencode https://www.gencodegenes.org/human/release_39lift37.html https://ftp.ebi.ac.uk/pub/databases/gencode/Gencode_human/release_39/GRCh37_mapping/GRCh37.primary_assembly.genome.fa.gz https://ftp.ebi.ac.uk/pub/databases/gencode/Gencode_human/release_39/GRCh37_mapping/gencode.v39lift37.annotation.gtf.gz 提取 24 条染色体 /obu/jianzuoyi/bin/bbmap/filterbyname.sh in=GRCh37.primary_assembly.genome.fa out=GRCh37_24chr.fa names=24chr include=t 安装 Hisat2 conda install -c bioconda hisat2 为 Hisat2 建索引 直接在 Hisat2 官网下载 CRGh37 版本，自己构建需要 200G 大内存 #hisat2_extract_exons.py gencode.v39lift37.annotation.gtf &gt; gencode.v39lift37.annotation.exons #hisat2_extract_splice_sites.py gencode.v39lift37.annotation.gtf &gt; gencode.v39lift37.annotation.splice_sites #hisat2-build -a -p 4 –ss gencode.v39lift37.annotation.splice_sites –exon gencode.v39lift37.annotation.exons GRCh37.24chr.fa GRCh37.24chr 安装 stringtie conda install -c bioconda stringtie 下载参考 gtf，染色体不能带 chr，否则与 Hisat2 官网下载的索引文件不匹配： wget ftp://ftp.ensembl.org/pub/release-75/gtf/homo_sapiens/Homo_sapiens.GRCh37.75.gtf.gz 3.5 阿里云k8s系统使用自有镜像的问题 1、镜像要以root账号运行，因为运行时要用useradd创建当前投递任务的用户 如果使用第三方镜像，但默认账户不是root，则重新构建新镜像并指定root用户 Dockerfile FROM etal/cnvkit USER root 构建 &amp; push docker build -t jangene/cnvkit . docker login docker push jangene/cnvkit 2、测试成功。 3、cnvkit 0.98版本有错误，更新之 docker run -it jangene/cnvkit pip3 install -U pip pip3 install -U cnvkit # 成功 apt update apt install vim apt install less # 0.99版还是有个错误 /usr/local/lib/python3.8/dist-packages/cnvlib/cnary.py def by_gene()函数中 - end_idx = gene_idx[-1] + 1 + end_idx = gene_idx[-1] exit docker ps -a docker commit -a &#39;EVAN&#39; 5e4c49f0cb81 jangene/cnvkit 3.6 Docker使用 如何获得docker的root权限？ 在运行前指定root用户，如： docker run -it -u root etal/cnvkit 尝试构建自己的 docker，并发布 3.7 安装 vep http://asia.ensembl.org/info/docs/tools/vep/script/vep_download.html#docker mkdir vep_data chmod a+rwx vep_data docker pull ensemblorg/ensembl-vep docker run -it -v /obu/Public/vep_data:/opt/vep/.vep ensemblorg/ensembl-vep perl INSTALL.pl -a cf -s homo_sapiens -y GRCh37 以当前用户运行 docker，注意：要用 uid 而不用名字，名字不识别 docker run -u 4002:4002 -it -v /obu:/obu ensemblorg/ensembl-vep vep –offline –dir /obu/Public/vep_data -i K033142T.01.somatic.snv.vcf -o xxx.snv.vcf 直接在外面运行 vep docker run -u 4002:4002 -v /obu:/obu ensemblorg/ensembl-vep vep –offline –dir /obu/Public/vep_data -i pwd/K033142T.01.somatic.ins.vcf -o pwd/xx.ins.vcf 3.8 安装 cnvkit conda install -c bioconda cnvkit，失败 pip install cnvkit， batch命令会自动运行下面的命令： cnvkit.py target 3.9 数据备份专题 重要资料，经整理后，备两份，不能丢： 阿里冷，冷存储，是防腾讯出变故 腾讯热 一般资料，可丢，腾讯 平时工作备份，常用资料，oss热，待整理资料，云桌面NAS 近期要用，存于NAS，近期不用，直接归档存储 不同资料，bucket分开，提高安全性，因为 重要资料，再备一份到腾讯云 阿里云，主要用其归档存储 归档：18 + 6 = 24 NAS按量：100G = 1月，20 - 35 OSS 标准：0.12元/GB/月 归档：0.03元/GB/月，最低存60天，数据取回：0.06元/GB NAS：0.19 - 0.35 GB/月 work1-genebang "],["日志.html", "Chapter 4 日志 4.1 2022 4.2 2021", " Chapter 4 日志 4.1 2022 2022-3-19 更新一篇公众号文章 7：40 起床，早餐，洗澡 9：30 开始写ggsci文章，10：50，完成《R数据科学》电子书下载，预计依据该书写系列文章 13：18 R生物信息，按生信的需求仿R数据科学 2022/3/18 构建新博客（博客还是保留以前的） 整理过去的笔记到书中，写两本书：生物信息学，投资。 靠自媒体，还是靠不断追求职业晋升？晋升和投资应该作为主流。体现出自己的价值。 全力以赴工作，获得更高的职位，完全集中精力，致心一处。工作第一，投资第二，自媒体，只是自己提升，或者锻炼与人交往的手段，保持影响力。 如此，那么个人素质应该排第一位，每天精进的，应该是：交际能力，管理能力，其次才是专业能力。先是通常的学识，其次才是专业，最后是财商。 情商（第一重要）：交际，管理。世事洞明皆学问，人情练达即文章。写书。 张越去诺禾面试情况，不给涨工作，说泛司给的工资在行业内不正常。 昨天上午去亦庄也不涨，行业现在确实陷入了困境 智商（第二重要）：生信。写：书，博客，公众号（一定要写，名人都在写），演讲 胃癌项目 职称评定，领导名字由：Zoey wu改为吴双秀，11：38 财商（第三重要）：投资。写书 普通收入 投资收入 被动收入 2022/3/17 9：00 看邮件。给彬彬指导批量生成转录组任务的脚本。9：34结束 9：40 开始胃癌项目。11：20，完成一个周期任务。主要做差异基因的富集分析，结果中没有P值小于0.05的。期间与CM多次沟通。 14：30 完成转录组项目的脚本生成 午睡，起来后看《R语言实战》 19：21 sublime text4 注册码 19：23 《R语言实战》——图形初阶 19：55 完成Rstudio主题选择 22：25 《R语言实战》——图形初阶-完 2022/3/16 9：58 到公司，戴昆寄的转录组硬盘到了，给彬彬分析 10：20 1：30时钟，胃癌项目，12：10结束。吃饭 13：11 完成胃癌KEGG分析 16：15 跟Zoey，CM开会。领导说会招熟练生信替换现在不熟悉的BB 2022/3/15 招聘要求 学历方面：有经验的硕士就可以，博士的话，国内生信博士还是比较少，他们去处多，往往还有做科研的想法，对目前的工作难以有长久的兴趣，存在不稳定性。 任职条件：最主要的，一定的基础，加上工作态度最重要。有基础，没经验，但是只要愿意学，工作认真，可以迅速积累经验。 R语言，Python，Perl必需精通一项。精通一项，其他的如果不熟悉，可以迅速学习掌握。 熟悉Linux服务器使用，有SGE，SLURM，K8S等集群使用经验。 10：49 看BOSS生信招聘要求 10：50 倒记时：1小时10分 开始胃癌项目 看一段《南渡北归》 13：14 倒记时：1小时30分 胃癌项目，14：46结束。完成signature分析 15：10 倒记时：50分钟 胃癌项目，16：00结束，完成两组队列比较 16：00-16：50 三里屯走路 17：00 倒记时30分钟。胃癌项目 20：55 倒记时1：30，胃癌项目 22:23 数据处理部分，与展示部分分开 2022/3/14 上午，下午，XML，cnv过滤，生成maftools格式的文件 2022/3/13 10点过起床，中午饭后，带小孩去奥森公园北园推着车走了一圈 回来3点过，午睡到晚饭时间。 晚上看书。 2022/3/12 下午13：30，打疫苗 没有工作和学习 2022/3/11 上班，中午同事聚餐。 16：00，与张越河边走。 2022/3/10 生物信息工程师职称评定 11：47完成，只差照片了 晚饭后，上传完成 胃癌项目 21：20，完成新的Table1 2022/3/9 全天都在准备材料，主要是3000字的个人技术报告。 生物信息工程师职称评定 昨天已给刘飞飞发送了报告名，上午询问是否收到 照相 专业技术业绩 个人评价 2022/3/8 在家办公，明天也是。 卓有成效的工作 计划： - 完成流程基础docker镜像构建：biotools:0.1 完成docker build，并push 到jangene docker hub - 完成质控统计 完成16：35 - 完成职称评定材料准备 20：09，报名表已填好。20：20邮件给刘飞飞 22：03，只差专业技术工作业绩以及3000字个人评价了。明天继续 - 完成一篇公众号文章 - 无线键盘购买 完成微软Sculpt人体式学键盘选择，待活动。 - 充电灯购买 - 遗传咨询师考证相关 中国卫生人才网举办过一次。现在有国家标准。 - 梳理以往文章，删除，修改不合适的 - 洗澡 17：03完成 - 剪指甲 10：11，开始工作 2022/3/7 职称评定：工程师，需要档案存档证明。 14：00 组会 16：00 走路，张，何 17：00 琳涵项目，拷贝需要的图，补多因素分析森林图。 2022/3/5 上中午：看《南渡北归》 下午5点过：奥森北园跑步，和双。让两小朋友在家看电视。大约一小时后回。第一次尝试让两个在家。 晚上：跑胃癌项目的CNV分析。顺便看了一下流程调度系统：AirFlow，SJM + SGE，k8s。最终可能还是研究k8s较好。 23：02，准备休息，明天带两个去丰台区消防博物馆 0：13 对WES流程作了一些小的修改，洗漱，休息。 2022/3/3 上午，70WES项目，重跟失败的几例样本 下午，看R data.table。 2022/2/18 WES64增加数据，跑起来。 跑步 galaxy，安装几个工具。 2022/2/17 21：55 这几天都在弄galaxy平台。今天终于在ECS上装好的21.09最新版。 明天正式开始分析WES 64例项目。后续买一个ECS服务器，用现在的 galaxy 镜像。暂不考虑Ubuntu 20.04，16.04够用。碰到问题再考虑换。 2022/2/16 上班，Ubuntu 18.04 升级到 Ubuntu 20.04 19：39 重启云桌面，花了约30分钟才成功 2022/2/15 NAS昨天因为运行了galaxy，产生了大量费用，一小时5元多。因为原来的galaxy相关文件变成低频存储了。 网站运行一直访问数据库，产生大量取回费用。 14：00 公司年会 16：00 运动 17：00 安装R包 21：00 原打算晚上在ECS上把galaxy的maftools oncoplot工具弄好，但想着还是在云桌面上先开发，ECS做为生产布署。 因此，云桌面加了30G数据存储，以应对galaxy的日常运行。 21：04 ossutil64 cp -r oss://my-galaxy/galaxy-21.09 galaxy-21.09，运行中 21：28 ossutil64 cp -r oss://my-galaxy/www www 运行中 22：58 ossutil工具传输之后，会丢失软链接。先用tar打包再传输更能保持原来的目录结构。 2022/2/14 下载WES 64新增的数据 2022/1/29 问题：现在的通路比较，包含了外显子外的突变，后期只考虑exon上面的 2022/1/28 10：00 到公司，与陈梅，Zoeyi老师开会，讨论WES 64项目。 13：30 到负一层吃饭，三人 19：00 小区外吃东西 23：15 各通路的基因突变，Landscape图完成。睡觉 2022/1/27 09：56 开始补充64例的分析 上午，启黄，Zoeyi老师汇报了30例胸腺癌项目 18：41 下午一直在改64例胃癌WES项目 19：04 snv/indel, cnv对通路的影响，分开分析，完毕 20：00 吃完饭，感觉没什么可分析的了，看象棋直播 21：20 洗完澡，准备看会ggpubr睡觉 22：31 睡 2022/1/26 在家办公 12：11 启黄项目还差一项，gistic分析 14：01 午饭，看视频，股票 15：10 思考以后方向问题，开始分析最后一项 20：48 结束，生成最终报告，交付 21：21 已交付 2022/1/25 09：00 到公司，讨论WES64项目的补充分析。 得知芸姐已离职。 12：50 公司游园会 13：30 公司请的专家讲座 2022/1/24 11：48 开始工作 11：55 备份WES 64项目 12：58 备份完成 13：57 开始启黄项目 16：16 已完成Table 1，Figure 1修改，比较SqCC与Adenocacinoma之间的差异基因 23：36 完成DDR与TMB的分析 23：45 睡觉 2022/1/23 计划：CNV分组比较，然后交付，做好备份工作，开始启黄项目。 13：08 起床后，一直研究gistic用法。 发现：all_lesions.conf_99.txt中，判断Amp和Del的一列，Amplitude Threshold， 0: t&lt;0.3; 1: 0.3&lt;t&lt; 0.9; 2: t&gt;0.9 0: t&gt;-1; 1: -1&gt;t&gt; -1.3; 2: t&lt; -1.3 gistic的-ta, -td参数只是影响低扩增或删除，高扩增 t&gt;0.9，和删除t &lt; -1.3是程序写死的。 2的（1+0.9）次方等于：3.7拷贝 2的（1-1.3）次方等于：0.81拷贝 因此，gistic结果，只能用高扩增或删除的结果，即拷贝数变异数为2或-2的才可靠。这是根据Amplitude Threshold离散化后的结果。 15：50 午睡，睡着了 16：21 跑gistic中，分HAGC和NAGC， -ta, -td都为0.3 18：43 已交付 2022/1/22 计划：signature分析 01：50 完成通路热图绘制。睡觉 10：40 起床后洗漱，吃东西，看GenVizR包 10：41 开始研究sigminer 21：54 signature分析完毕 2022/1/21 计划：完成通路富集分析图。整理所有通路基因到文本中，再读入R 0：35 准备睡觉 8:59 P11跑varscan结束，过滤中。完成somaticfilter.py，太慢，耗时4-5个小时，后续得优化 11:25 P11过滤中，新方法。注释中。 12：06 最终MAF文件完成，重绘Landscape图 13：05 开始计算TMB 让IT改直线上级为: Zoeyi wu 14:39 完成TMB计算，并绘制箱线图，以及小提琴图，用ggpub包 15：30 开始通路分析 16：07 在maftools包中发现10条TCGA通路的所有基因，下一步找DDR通路的200多个基因 16：47 找到TCGA 276个DDR基因 22：43 完成10条TCGA肿瘤信号通路和DDR 276基因10通路的雷达图，HAGC和NAGC比较分析，下一步画通路热图 洗漱 23：34 开始画通路热图 TMB要补充性别差异，年龄差异 2022/1/20 计划：肿瘤20x，对照10x，再滤一下snvindel，看能不能找点变异回来，参考文献：Proteogenomic and metabolomic characterization of human glioblastoma，该文献也有gistic用法 上午 优化varscan过滤脚本：somaticfilter.py，调整关键阈值 下午 重新过滤，发现有15个样本前期的varscan跑中断了，结果不正常，导致Landscape图上突变过少，重新跑varscan 晚上 P40过滤多次中断，P11太慢，mpileup文件158G，中断一次，重跑。其他14个样本重跟varscan成功。 看了看cnv可视化方法 21：24 P11跑varscan中，P40非投递过滤中，过滤完62个 2022/1/19 计划：完成琳涵项目 确定cnv基因，一是cnvkit结果的gainloss，这个是基础；其次是gistic的all_thresholded.by_genes.txt 两者结合确定cnv列表，导致maftools重画Landscape图。不能按maftools官方网站的教程直接读入gistic的结果，而要先过滤好，以custom的形式提供cnv结果 gistic的只考虑+2，-2的深拷贝或删除 9：31 开始分析琳涵项目 13：30 细妹去爸那里，跟爸视频，简宝也在 15：37 完成琳涵项目的补充分析，提供5个图。 16：00 俊慧问公司在线画图做单、多因素分析的问题 21：00 Landscape图，加了临床信息，CNV也加进去了，CNV还得用人工筛选过的，不能直接将gistic结果给maftools 21：34 分析gistic中，先跑一个结果出来，后续问zoey老师或陈梅，她们看文献多，看文献中用的什么阈值，自己就不花太多时间在上面了，反正cnvkit的结果是准的。 2022/1/18 上午，帮彬彬过滤190例转录组样本结果，由他发邮件交付 13：00 2022年一季度存储资源会议，各部门解释具体存储需求的情况 15：30 跑gistic 16：00 走路 17：00 看gistic教程 17：50 下班，走时跟领导讲明天开始在家办公画图，领导多聊了一会 23:28 gistic用法，网上查资料，看文献，看官方文档，明天完成琳涵项目后，正式调整图形 画图Amp上面，坐标不准，重新安装软件，也不好。罢了。 2022/1/17 计划：1、指导彬彬完成转录组项目；2、整理cnv结果 0：08 用SLD的BED跑cnvkit完毕，结果感觉更好些 0：20 用Fsz的BED重跑中。洗漱，睡觉。 9：30 告诉海飞停xy集群账号 10：53 190例转录组其中一个样本数据不全，诺禾重新传了，彬彬下载后重新跑 上午去公司，与 Zoey 老师商量，过滤掉了X和Y两条染色体的CNV结果，感觉假阳性可能性大 14：00 - 17：50 组会，周博讲血液肿瘤方面知道，没听，一直在服务器上弄CNV结果 今天，回答张越 maftools的一些问题 史总聊，戴昆一个田凯华的项目，可能会找生信部门去做 晚上，眯了一会，原本打算早点睡，坐在床上查了会stringtie的资料，看怎么过滤FPKM的值 23：00 看stringtie官网，加 -A 参数可输出表格形式的FPKM和TPM值，于是重跑stringtie 23:32 睡觉 2022/1/16 4：26 整晚排查cnvkit结果，发现程序有Bug：iloc()错误，修正为loc()，cnvkit 0.98版本的docker镜像是作者1年前构建的，存在bug，在新版程序中已经修正 以后安装程序，一定要确定是最新版 明天重新构建最新的cnvkit Docker（根据官方的Dockerfile文件） 4：47 洗漱，睡觉 12：53 上午，继续排查cnvkit错误，搞定，更新cnvkit到v0.99并改正其一个错误 下午，发现刘删除了一些程序，请示领导是否封禁他的账号 18：32 重新跑cnv中 2022/1/15 周末两天着重研究signature分析，彻底弄明白 8：00 买到了29号北京西 - 贵阳北的高铁票 上午，学会了离线安装R包 下午，完成TCGAmutations安装，并完成胃癌TCGA 439例数据的基本分析 18:10 帮彬彬写好190例转录本分批运行的脚本 18：20 检查通过hg19_WES_V6.bed跑的cnvkit结果，查看拷贝数情况 检查下NovoDB过滤是否正确，是否滤多了 2022/1/14 计划： 提醒彬彬忘记安装sambamba软件了，转录组流程已中断。 拷贝数的结果要写脚本过滤，通过log2筛选,log2是减了1的，要注意 看见Zoeyi老师0：28的信息，明早回 在公司测的样本cnv换BED重算，都换BED算算，通过V6版本，公司版本，思路迪版本可能不靠谱。 并且，要靶向区域，以及附带区域，不能是原始探针，现在用的是原始探针，不对 2：07 看cnvkit结果中 3：23 CNV结果要重新算。睡觉。 10：05 加班申请表完成，周末两天 1:58 k8s集群使用自己的镜像成功，跑cnvkit中； 今天医疗股涨得不错； 20:19 自有cnvkit镜像运行中断，发现是用了投递节点的Rscript，因为脚本中source过，应在运行cnvkit.py前，强制让docker的Rscript路径在前面 23:03 用通用hg19_WES_V6跑cnvkit，洗个澡，今天早点睡。 2022/1/13 计划： 通过报告核实在公司测的样本的突变情况。 让 Zoey 老师让销售一并申请在公司测的10几例的突变列表。 不用，自己伽利略看。 服务器版IGV开端口，联系IT 检查每一个样本的突变列表，查看原始的vcf文件是否有染色体x/y的变异，有则正常 1:43 准备睡觉 昨天收获还是不错的： 流程主体完成了，解决了VCF TO MAF的问题 知道用 sublime text插件，支持markdown, vim 1:56 所有样本的 SnvIndel 都分析完毕，画了 Landscape 图。睡觉。 伽利略上检查在公司送检的12例 P2109240256 K034509T MAF:23; snvindel:34, cnv:2, sv:0; all, 1/59 P2108240202 K030859T MAF:17; snvindel:52, cnv:0, sv:0; CDH1,7/59; RHOA/2/59 P2109240260 K035664T MAF:29; snvindel:59, cnv:0, sv:1; CDH1,7/59 P2109130214 K033142T MAF:7; snvindel:1, cnv:0, sv:0； KRAS, 1/59 P2109130216 K033080T MAF:18; snvindel:57, cnv:0, sv:0; TP53, 2/59 P2108310229 K032178T MAF:44; snvindel:99+,cnv:0, sv:0; all, 1/59 P2109050216 K032166T MAF:10; snvindel:15,cnv:0, sv:0; all, 1/59 P2109130217 K034653T MAF:0; 阴性 P2109020223 K031857T MAF:163; snvindel:85, cnv:0, sv:0; all, 1/59 P2108240201 K030770T MAF:15; snvindel:49, cnv:0, sv:0; all, 1/59 P1912310010 W047759T MAF:73; 查不到报告 P2104190219 K016923T MAF:103; snvindel:99, cnv:3, sv:0; CDH1, 2/59; TP53, 2/59 看IGV 1、先肉眼看，突变丰度10%以上的不用看，着重看5%左右的。—————先不看，流程过滤结果应该没问题，就算有假点，也少，不影响科研分析。 19：21 开始跑 gistic 21：30 王义文来电话，聊了些事。他说去年亏200多百；现在弄培训学校； 23：33 gitstic结果画在 landcape 图上，不好看，乱。 2022/1/12 1:37 过滤SnvIndel，不想写脚本，用现成的 vcf2maf.pl，骗过脚本，用 docker 里的程序跑 技术路线，vcf, snpEff暂时不用，直接annovar过频率数据库，然后 vep to maf，明天继续 上午，给彬彬写转录组流程邮件，抄送Zoeyi和高老师，看 vcf2maf.pl 午饭后有点困，休息约一个小时 14：09 继续看 vcf2maf.pl，写得不错，好的perl脚本也可以为我所用，不用抗拒 下午与张越讨论生信问题，他有分析需求，让他写邮件，几次了都没写，要自己学 18：00 给彬彬写转录组运行要的脚本 21：35 完成 MAF 文件生丰，21，45号样本有问题，排查中。结果：snv文件是二进制的，变异要重新call。感觉varscan的结果可能会有问题。 重跑： nohup sh Call_SnvIndel_P21.sh &amp;&gt; Call_SnvIndel_P21.sh.o &amp; nohup sh Call_SnvIndel_P45.sh &amp;&gt; Call_SnvIndel_P45.sh.o &amp; 23：00，据说要停水，赶快洗个澡 snvindel从质控到 MAF，今天正式弄完。 2022/1/11 上午，6点过起来看 RNA 项目任务情况，3个失败，重投后继续睡。 跟Zoey老师说这周后面时间都在家。 凡凡在学校拉肚子，9点过双去接回来了 戴昆数据，有11G要下载放转录组的硬盘里，让彬彬操作 彬彬跑 hisat2出错，是因为索引文件需要的内存太大，没弄好，给他我昨天让陈梅下载的，他却要用自己的。 下午写 SnvIndel 过滤脚本 19：53 写好 P34样本，变异太少。实则正常，snv只到5号染色体有，但indel各条都有了。 2022/1/10 上午，看 cnvkit 执行情况，成功17个，错误更多，重跑，一个一个跑 下午，组会，领导介绍了目前所有项目，64例WES已公开是由我做 检查彬彬传的190例RNA数据是否正确，不漏传的，检查MD5完整性：完整 让陈梅帮忙下载 hisat2 的索引文件，在其官网 教张越下载 TCGA R包，以及画 oncoplot图 晚上，测试 hisat2 2022/1/9 8：30 恢复任务，测试过滤条件，掌握 samtools tview使用 11：22 转录组流程简单测试 阴性样本 r2k-jianzuoyi-filter-snvindel-p35.sh4rsnr-4159970334 0/2 Error 0 30m varscan就是阴性; 重跑后有结果了 r2k-jianzuoyi-filter-snvindel-p39.shtm7k2-3629824292 0/2 Error 0 30m 过滤后只有一个germline；重跑有结果 r2k-jianzuoyi-filter-snvindel-p41.shr7tzv-2172895873 0/2 Error 0 30m 同上；同上 r2k-jianzuoyi-filter-snvindel-p47.shvqkxw-3480795293 0/2 Error 0 30m varscan就是阴性；重跑后有结果 r2k-jianzuoyi-filter-snvindel-p51.shv7dkx-3817315767 0/2 Error 0 30m 文件大小全为502，表头都没有；重跑有结果 r2k-jianzuoyi-filter-snvindel-p54.shgbl45-2909327204 0/2 Error 0 30m varscan只有表头；同上 r2k-jianzuoyi-filter-snvindel-p55.sht5szg-2841979272 0/2 Error 0 30m 文件大小全为502，表头都没有；重跑有结果 r2k-jianzuoyi-filter-snvindel-p59.sh59dv8-348088453 0/2 Error 0 30m varscan只有表头；重跑有结果 r2k-jianzuoyi-filter-snvindel-p64.shjw2kh-2980648877 0/2 Error 0 30m 过滤后阴性；重跑有结果 2022/1/8 替换有问题的一例BAM为之前分析的（不用换，做过校正，不如用自己没校正的） 转录组项目与彬彬同时推进 WES项目一直往前推，尽快把后续分析的脚本都写好。运算可以有资源就跑。 变异结果看IGV也可以等转录组项目结束后让彬彬看，用新的变异列表再重做后续分析，因为脚本都在，重分析一遍也不费什么事。 关键是尽快把相关脚本都写完。 跑任务，变异检出 S6_Calling_\\(Patient_\\)Sample，检胚系耽误了些时间 Call_SnvIndel_$Patient Zoey老师问 CNV Segment文件 1:15 洗澡，睡觉 2022/1/7 10：00 190例转录组数据到，彬彬上传中 13：46 XML 测试 BAM 文件重比对 21：51 k8s任务投递成功，以后运算量大的任务投递，不大的 xargs -P本机执行 WES项目可先完成不校正版的分析，时间允许，再做不校正分析，比较二者差异，差异不大的话就不做校正，费时太多 2022/1/6 22:12 sambamba排序完，bamdst统计， conda install -c r r-essentials，失败 conda install r-base，成功 全部开始统计，但是不能 R 画图 用的思路迪 WES BED，明天换公司BED试试结果 WES 64, sambamba排序 给张越讲基本统计，Fisher 跟彬彬讨论转录组流程，确定质控工具选择 2022/1/5 11:30 昨天拉肚子，起得迟，11：30前，都只是看看任务 11:30 xargs -P, parallel，本机并行任务处理。以后优先用 xargs 优化 XML，将之前的 完全去掉，Envirionment.sh默认自动获取：config/Environment.sh Target放到 Environment.sh中 为cancerPipeline.py， 可以指定 BED 文件以及Environment.sh文件 增加 logging，没必要 增加一些打印语句，XML文件替换后可以保存为新的XML 测试后续脚本 2022/1/4 优化流程，下午开会 2022/1/3 cancerPipeline.py优化 2022/1/2 cancerPipeline.py优化，主要是 DAG 排序 明天开始分析64例WES数据，一边搭 XML 流程 2022/1/1 cancerPipeline.py优化，基本完成，明天检查排序 4.2 2021 2021/12/31 检查 WES64 项目数据。 指导上传数据。帮忙转换数据格式 聚餐，走路 改cancerPipeline.py 象棋 跨年 2021/12/30 戴昆/田主任项目，临床信息对不上，核对中。。。 WES64项目，BED文件，和损坏的文件，已给 2021/12/29 戴昆/田主任项目，看文献 胸腺癌项目线上交流：Zoey，启黄。迟到了10分钟 signature， 共突变：百分比 3个显著基因的功能，深入分析的话。TTN不做 驱动基因分析+ CNV，修改 热图：排序 TP53，Cell_Cycle，关联强，着重讲一下，TP53明显影响预后 DDR2，补充，200多基因。 看不同癌的DDR有无差别 gistic cnv补充 2021/12/28 9：07 免疫微环境：PPT，彬彬 概念 免疫细胞浸润分析：逻辑 卷积和去卷积概念：复杂 常用方法： Cibersort：22种免疫浸润细胞 输入：转录组 + ？ d图？ LM22.txt，是不是都是淋巴细胞 测序数据最好是TPM（肿瘤基因表达值），是否会筛选转录组测序数据？ RPKM/FPKM/TPM TIMER：6种免疫浸润细胞 流程： quanTIseq： 从Fastq开始处理 EPIC： 标记基因：xCell x? 标记基因：MCP-counter 先理解 列出常见的所有软件，一个表，测评文章，应该放上 提炼，输入：表达量 + ？ -&gt; 细胞比例 除了转录组，还有其他什么输入数据？ 特异性细胞表面分子标志（必须） 标记基因： 有没有合并的方法？ 2021/12/27 上午，完成周报，与Zoey老师讨论64例WES项目 下午，完成《2021年度个人工作目标设定与绩效评估》 询问Zoey老师转正情况 下载 life流程 下载 IGV，导入 Genome 中 周会改到明天 2021/12/23 计划：胸腺项目，完成生存分析 9:05 查看昨晚质控结果，程序卡住了 10:40 有样本是昨天9点过就卡住，一晚上根本没跑其他任务 12:23 完成胸腺癌热图：胸腺癌相关7条通路及其基因变异情况 17:20 WES，开始BWA 23:40 胸腺癌，完成生存分析，只着CNV分析了 23：52 WES，任务正常运行 2021/12/22 12：00 64例WES样本编号整理 18：15 核实完样本编号，完成原始数据改名 21：02 开始fastp质控所有样本 21：45 启黄/胸腺癌项目：确定signature最终版本 22：10 肿瘤通路富集，开始 22：24 优化了一下报告排版 2021/12/21 10:15 检查数据完整性中（30774S02X4_R1.fastq.gz，不完整） 10:35 fsz服务器，下载PM2.0中（完成） 13:21 完成PPT制作——《使用伽利略系统查询医生送检样本情况》 15:26 WES流程，annovar安装（cosmic数据库较旧：cosmic70） VEP缓存文件下载中（完成：/obu/jianzuoyi/download） 22:30 胸腺癌项目，sigminer分析 "],["图书馆.html", "Chapter 5 图书馆 5.1 通识 5.2 专业：生物信息 5.3 财商", " Chapter 5 图书馆 5.1 通识 社会心理学 卓有成效的管理者 管理学书籍 人类简史 未来简史 5.2 专业：生物信息 5.2.1 计算机 5.2.1.1 Python Python编程 Python Cookbook 5.2.1.2 R 学习R R语言实战（第2版） 现代统计图形 R for Data Science，ebook R数据科学，ebook 现代统计图形 5.2.1.3 Linux 5.2.2 统计学 统计学习方法 统计学习导论 生物统计学基础 医学统计学 女士品茶 5.2.3 肿瘤学 肿瘤学概论 5.3 财商 富爸爸系列 深入浅出Python量化交易实战 "],["r医学科研.html", "Chapter 6 R医学科研 6.1 第1章 R语言简介 6.2 第2章 输入数据 6.3 第3章 数据变换 6.4 第4章 可视化 6.5 第5章 建模 6.6 第6章 交流", " Chapter 6 R医学科研 6.1 第1章 R语言简介 6.2 第2章 输入数据 6.3 第3章 数据变换 6.4 第4章 可视化 6.5 第5章 建模 6.6 第6章 交流 "],["r医学科研-第1章-r语言简介.html", "Chapter 7 R医学科研 第1章 R语言简介 7.1 1.1 R的安装 7.2 1.2 RStudio 7.3 1.3 R包 7.4 1.4 获得帮助 7.5 1.5 工作流程", " Chapter 7 R医学科研 第1章 R语言简介 R语言在统计作图方面有独特优势，目前已成为许多数据科学团队最常用的语言之一。本章简要介绍R语言的基础知识，让读者能够开启R语言的学习，首先要做的是准备工作环境。 7.1 1.1 R的安装 进入CRAN官方网站，选择对应平台的版本。 Download R for Linux (Debian, Fedora/Redhat, Ubuntu) Download R for macOS Download R for Windows 一般来说，安装最新的R版本总是好的。 7.2 1.2 RStudio RStudio是目前最受欢迎的R语言集成开发环境之一。可从RStudio主页免费下载其Desktop版本。 安装好RStudio后，建议新手立即练习一下《An Introduction to R》手册中附录A的例子，从中感受R语言的工作方式，消除陌生感。进入方法为： 启动RStudio； 在控制台输入help.start()，回车； 找到《An Introduction to R》的附录A：A sample session； 开始练习。 7.3 1.3 R包 R包是一些实现特定功能的函数、数据集和文档的集合。R包有3种类型： 基础包，在R启动时就自动调入内存，可以直接使用； 推荐包，这些包已经随R安装好，但需要使用library()或require()函数调入内存后才能使用； 其他第三方包，这些包需要用户单独下载安装，然后通过library()或require()函数调入内存使用。 可以用search()命令查看当前哪些包加载到了内存中。 7.3.1 1.3.1 包的安装 安装和更新CRAN包： install.packages() # 安装 update.packages() # 更新 安装Bioconductor包： if (!require(&quot;BiocManager&quot;, quietly = TRUE)) install.packages(&quot;BiocManager&quot;) BiocManager::install() 7.3.2 1.3.2 包的加载 library() 7.4 1.4 获得帮助 R提供了大量帮助文档，学会查看这些文档无疑会有助于问题的解决。可以通过下表列出的函数获得相应的帮助。 函数 功能 help.start() 打开帮助文档首页 help(foo)或?foo 查看函数foo的帮助 help.search(foo)或??foo 以foo为关键词搜索本地帮助文档 example(foo) 函数foo的使用示例 RSiteSearch(“foo”) 以foo为关键词搜索在线文档和邮件列表存档 apropos(“foo,” mode=“function”) 列出名称中含有foo的所有可用函数 data() 列出当前已加载包中所含的所有可用示例数据集 vignette() 列出当前已安装包中所有可用的vignette文档 vignette(“foo”) 为主题foo显示指定的vignette文档 7.5 1.5 工作流程 7.5.1 基础 7.5.2 脚本 7.5.3 项目 "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
